<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Agenda de Experiencias</title>

        <!--<script src="https://unpkg.com/vue"></script>-->
        <link href="/assets/styles/aec.css" rel="stylesheet"/>
        <link href="https://framework-gb.cdn.gob.mx/assets/styles/main.css" rel="stylesheet">

        <style>
            body {
                background-color: #fefefe !important
            }
            .vc-title,
            .vc-weekday {
                color: rgba(179, 51, 127, 1.0) !important;
            }
            .vc-flex {
                color: #FFFFFF !important;
                background-color: #3182ce !important;
                border-radius: 50% !important;
            }
            .tabs .is-active {
                border-bottom: 6px solid #00b0ed;
            }
            .tabs .tab {
                padding-bottom: 5px
            }
            .tabs-details {
                padding-top: 140px
            }
            .tabs-container {
                margin-bottom: 100px;
                border: 1px solid #cccccc;
                border-radius: 10px;
                text-align: center;
                padding: 40px 100px
            }
            .tabs-container .title {
                margin-top: 100px;
                font-weight: bold
            }
            .tabs-container .sub {
                padding: 40px;
                background-color: #FFFFFF;
                margin-top: 40px;
                border-radius: 5px;
                -webkit-box-shadow: 1px 2px 21px -10px rgba(0, 0, 0, 0.35);
                box-shadow: 1px 2px 21px -10px rgba(0, 0, 0, 0.35);
            }
            .tabs-container .sub .menu {
                margin-top: 40px;
                border: 1px solid #cccccc;
                border-radius: 10px;
                text-align: center;
                padding: 20px
            }
            .grid {
                padding-bottom: 0 !important
            }
            .modal-title {
                color: #FFFFFF !important;
            }
            .close {
                color: #FFFFFF;
                opacity: 0.5 !important;
            }
            .close:hover {
                color: #ACADAD !important
            }
            .tabs-container h5 {
                color: #d53c88;
            }
            .text-center {
                margin: 10px 0 20px;
            }
            /* 
              ##Device = Desktops
              ##Screen = 1281px to higher resolution desktops
            */
            @media(min-width: 1281px) {}
            /* 
              ##Device = Laptops, Desktops
              ##Screen = B/w 1025px to 1280px
            */
            @media(min-width: 1025px) and (max-width: 1280px) {}
            /* 
              ##Device = Tablets, Ipads (portrait)
              ##Screen = B/w 768px to 1024px
            */
            @media(min-width: 768px) and (max-width: 1024px) {}
            /* 
              ##Device = Tablets, Ipads (landscape)
              ##Screen = B/w 768px to 1024px
            */
            @media(min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
                .text-center {
                    margin: -15px 0 20px;
                }
            }
            /* 
              ##Device = Low Resolution Tablets, Mobiles (Landscape)
              ##Screen = B/w 481px to 767px
            */
            @media(min-width: 481px) and (max-width: 767px) {}
            /* 
              ##Device = Most of the Smartphones Mobiles (Portrait)
              ##Screen = B/w 320px to 479px
            */
            @media(min-width: 320px) and (max-width: 480px) {
                .tabs-container {
                    padding: 10px
                }
                .tabs-container .sub {
                    padding: 20px
                }
                .tabs-details {
                    padding-top: 40px;
                }
                .tabs .tab {
                    margin-bottom: 10px;
                }
                #experiences .topics {
                    padding-left: 0;
                    padding-right: 0
                }
                .text-center {
                    margin: 15px 0 20px;
                }
            }
        </style>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <div
                    class="container"><!--<div class="navbar-header">
                                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbarMainCollapse">
                                        <span class="sr-only">Interruptor de Navegación</span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        <span class="icon-bar"></span>
                                        </button>
                                        <a class="navbar-brand" href="https://www.gob.mx/">
                                        <img src="https://framework-gb.cdn.gob.mx/landing/img/logoheader.svg" width="128" height="48" alt="Página de inicio, Gobierno de México">
                                        </a>
                                    </div>
                                    <div class="collapse navbar-collapse" id="navbarMainCollapse">
                                        <ul class="nav navbar-nav navbar-right">
                                        <li><a href="https://www.gob.mx/tramites">Trámites</a></li>
                                        <li><a href="https://www.gob.mx/gobierno">Gobierno</a></li>
                                        <li><a href="https://www.gob.mx/busqueda"><span class="sr-only">Búsqueda</span><i class="icon-search"></i></a>
                                        </li>
                                        </ul>
                                    </div>-->
                </div>
            </nav>
        </header>

        <nav class="navbar navbar-inverse sub-navbar navbar-fixed-top">
            <div class="container">
                <div
                    class="navbar-header">
                    <!--button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#subenlaces"-->
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#subenlaces" aria-expanded="false">
                        <span class="sr-only">Interruptor de Navegación</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand logo" href="/"></a>
                </div>
                <div
                    class="collapse navbar-collapse" id="subenlaces">
                    <!--div id="subenlaces"-->
                    <ul class="nav navbar-nav navbar-right"></ul>
                </div>
            </div>
        </nav>

        <div id="app" class="container" style="margin-top: 75px;">

            <nav class="navbar aec">
                <div class="row">
                    <div class="col-sm-9">
                        <ol class="breadcrumb aec">
                            <li>
                                <a href="https://www.gob.mx/aefcm">
                                    <span class="glyphicon glyphicon-home"></span>
                                </a>
                            </li>
                            <li>
                                <a href="/aprende-en-casa/index.html">Inicio</a>
                            </li>
                            <li>
                                <a href="/aprende-en-casa/index.html">Aprende en Casa</a>
                            </li>
                            <li>
                                <a href="/aprende-en-casa/acceso.html">Acceso</a>
                            </li>
                            <li>
                                <a href="/aprende-en-casa/niveles/index.html">Niveles</a>
                            </li>
                            <li>
                                <a :href="breadcrumbUrl">{{ breadcrumbText }}</a>
                            </li>
                            <li class="active">Experiencias</li>
                        </ol>
                    </div>
                    <div class="col-sm-3 visible-md visible-lg">
                        <img class="img-responsive  navbar-logo" src="/assets/images/logo_aprende@2x.svg" alt="">
                    </div>
                </div>
            </nav>

            <div class="row">
                <div class="col-sm-12">
                    <h3 class="text-center">Experiencias</h3>
                </div>
            </div>

            <div v-if="level === 'preescolar'">
                <div class="tabs-container">
                    <span class="title">Selecciona una fecha para revisar las actividades para tu carpeta.</span>

                    <div class="sub">
                        <v-calendar locale="es" @dayclick="selectDay" :columns="$screens({ default: 1, lg: 1 })" style="margin: 0 auto" :attributes='attrs' title-position="left"></v-calendar>

                        <div id="menu" class="menu" style="display: none">
                            <div class="" style="text-align: left">
                                <strong id="date1"></strong>
                                <h5>¿Qué vimos hoy?</h5>

                                <!-- Experiences -->
                                <div>
                                    <div class="row">
                                        <div class="col-sm-12 topics" id="experiences"></div>
                                    </div>
                                </div>
                                <!-- End Experiences -->
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <tabs v-else>
                <tab :name="tabName1" :selected="true" :img="tabImage1">

                    <div class="tabs-container">
                        <span class="title">Selecciona una fecha para revisar las actividades para tu carpeta.</span>

                        <div class="sub">
                            <v-calendar locale="es" @dayclick="selectDay" :columns="$screens({ default: 1, lg: 1 })" style="margin: 0 auto" :attributes='attrs' title-position="left"></v-calendar>

                            <div id="menu" class="menu" style="display: none">
                                <div class="" style="text-align: left">
                                    <strong id="date1"></strong>
                                    <h5>¿Qué vimos hoy?</h5>

                                    <!-- Experiences -->
                                    <div>
                                        <div class="row">
                                            <div class="col-sm-12 topics" id="experiences"></div>
                                        </div>
                                    </div>
                                    <!-- End Experiences -->
                                </div>

                            </div>
                        </div>
                    </div>
                </tab>
                <tab :name="tabName2" :img="tabImage2">
                    <div class="tabs-container">
                        <span class="title">Selecciona una fecha para revisar las actividades para tu carpeta.</span>

                        <div class="sub">
                            <v-calendar locale="es" @dayclick="selectDay2" :columns="$screens({ default: 1, lg: 1 })" style="margin: 0 auto" :attributes='attrs2' title-position="left"></v-calendar>

                            <div id="menu2" class="menu" style="display: none">
                                <div class="" style="text-align: left">
                                    <strong id="date2"></strong>
                                    <h5>¿Qué vimos hoy?</h5>

                                    <!-- Experiences -->
                                    <div>
                                        <div class="row">
                                            <div class="col-sm-12 topics" id="experiences2"></div>
                                        </div>
                                    </div>
                                    <!-- End Experiences -->
                                </div>

                            </div>
                        </div>
                    </div>
                </tab>
                <tab :name="tabName3" :img="tabImage3">
                    <div class="tabs-container">
                        <span class="title">Selecciona una fecha para revisar las actividades para tu carpeta.</span>

                        <div class="sub">
                            <v-calendar locale="es" @dayclick="selectDay3" :columns="$screens({ default: 1, lg: 1 })" style="margin: 0 auto" :attributes='attrs3' title-position="left"></v-calendar>

                            <div id="menu3" class="menu" style="display: none">
                                <div class="" style="text-align: left">
                                    <strong id="date3"></strong>
                                    <h5>¿Qué vimos hoy?</h5>

                                    <!-- Experiences -->
                                    <div>
                                        <div class="row">
                                            <div class="col-sm-12 topics" id="experiences3"></div>
                                        </div>
                                    </div>
                                    <!-- End Experiences -->
                                </div>

                            </div>
                        </div>
                    </div>
                </tab>
            </tabs>

        </div>

        <footer class="main-footer">
            <div class="list-info">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-3"><img data-v-9e928f9a="" src="https://framework-gb.cdn.gob.mx/landing/img/logoheader.svg" href="/" alt="logo gobierno de méxico" class="logo_footer" style="max-width: 90%;"></div>
                        <div class="col-sm-3">
                            <h5>Enlaces</h5>
                            <ul>
                                <li><a href="https://participa.gob.mx" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Participa</a></li>
                                <li><a href="https://www.gob.mx/publicaciones" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Publicaciones Oficiales</a></li>
                                <li><a href="http://www.ordenjuridico.gob.mx" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Marco Jurídico</a></li>
                                <li><a href="https://consultapublicamx.inai.org.mx/vut-web/" target="_blank" rel="noopener" title="Enlace abre en ventana nueva">Plataforma Nacional de Transparencia</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-3">
                            <h5>¿Qué es gob.mx?</h5>
                            <p>Es el portal único de trámites, información y participación ciudadana.
                                <a href="https://www.gob.mx/que-es-gobmx">Leer más</a>
                            </p>
                            <ul>
                                <li><a href="https://datos.gob.mx">Portal de datos abiertos</a></li>
                                <li><a href="https://www.gob.mx/accesibilidad">Declaración de accesibilidad</a></li>
                                <li><a href="https://www.gob.mx/privacidadintegral">Aviso de privacidad integral</a></li>
                                <li><a href="https://www.gob.mx/privacidadsimplificado">Aviso de privacidad simplificado</a></li>
                                <li><a href="https://www.gob.mx/terminos">Términos y Condiciones</a></li>
                                <li><a href="https://www.gob.mx/terminos#medidas-seguridad-informacion">Política de seguridad</a></li>
                                <li><a href="https://www.gob.mx/sitemap">Mapa de sitio</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-3">
                            <h5>
                                <a href="https://www.gob.mx/tramites/ficha/presentacion-de-quejas-y-denuncias-en-la-sfp/SFP54">Denuncia contra servidores públicos</a>
                            </h5>
                            <h5>Síguenos en</h5>
                            <ul class="list-inline">
                                <li>
                                    <a class="social-icon facebook" target="_blank" rel="noopener" title="Enlace abre en ventana nueva" href="https://www.facebook.com/gobmexico" aria-label="Facebook de presidencia"></a>
                                </li>
                                <li>
                                    <a class="social-icon twitter" target="_blank" rel="noopener" title="Enlace abre en ventana nueva" href="https://twitter.com/GobiernoMX" aria-label="Twitter de presidencia"></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid footer-pleca">
                <div class="row">
                    <div class="col"><br><br></div>
                </div>
            </div>
        </footer>

        <script src='/assets/scripts/vendor/vue@2.6.11/vue.js'></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

        <script src='https://unpkg.com/v-calendar'></script>
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <!--<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
                <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>-->
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.1/moment-with-locales.min.js" integrity="sha256-tYxbRsX9g9rCkoqG99Bnze2SRAs2A14gAtMIsaz2SP8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js" integrity="sha256-G7A4JrJjJlFqP0yamznwPjAApIKPkadeHfyIwiaa9e0=" crossorigin="anonymous"></script>
        
        <script>

            Date.prototype.addDays = function(days) {
                var date = new Date(this.valueOf());
                date.setDate(date.getDate() + days);
                return date;
            }

            let fechasDisponibles = function (){
                let fechasCalendario = [];
                let hoy = new Date();
                hoy.setHours(0,0,0,0);
                const inicio = new Date("2020-03-20 00:00:00");

                //fechasCalendario.push(hoy);
                //fechasCalendario.push(inicio);
                let cFecha = inicio;
                while (cFecha <= hoy ){
                    if(cFecha.getDay() !== 0 && cFecha.getDay() !== 6){
                        fechasCalendario.push(cFecha);
                    }
                    cFecha = cFecha.addDays(1);
                }

                return fechasCalendario;
            }

            //console.log(fechasDisponibles());
            const fechasD = fechasDisponibles();

            moment.locale('es', {
                weekdays: 'Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado'.split('_'),
                longDateFormat: {
                    LT: 'HH:mm',
                    LTS: 'HH:mm:ss',
                    L: 'DD/MM/YYYY',
                    LL: 'D MMMM YYYY',
                    LLL: 'D MMMM YYYY HH:mm',
                    LLLL: 'dddd, D [de] MMMM'
                }
            });

            var getParams = function (url) {
                var params = {};
                var parser = document.createElement('a');
                parser.href = url;
                var query = parser.search.substring(1);
                var vars = query.split('&');
                for (var i = 0; i < vars.length; i++) {
                    var pair = vars[i].split('=');
                    params[pair[0]] = decodeURIComponent(pair[1]);
                }
                return params;
            };

            var slug = function (str) {
                str = str.replace(/^\s+|\s+$/g, '');
                str = str.toLowerCase();

                // remove accents, swap ñ for n, etc
                var from = "ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;";
                var to = "aaaaaeeeeeiiiiooooouuuunc------";
                for (var i = 0, l = from.length; i < l; i++) {
                    str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));
                }

                str = str.replace(/[^a-z0-9 -]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-');

                return str;
            };

            Vue.component("tabs", {
                template: `
                    <div>
                        <div class="tabs">
                          <div v-for="tab in tabs" :class="{ 'is-active': tab.isActive }" class="tab col-sm-4" align="center"> 
                            <a :href="tab.href" @click="selectTab(tab)">
                                <img :src="tab.img" width="100%" height="auto" :alt="tab.name" />
                            </a>
                          </div>
                        </div>

                        <div class="tabs-details">
                            <slot></slot>
                        </div>
                    </div>
                `,

                data() {
                    return {tabs: []};
                },

                created() {
                    this.tabs = this.$children;
                },
                methods: {
                    selectTab(selectedTab) {
                        this.tabs.forEach((tab) => {
                            tab.isActive = tab.name == selectedTab.name;
                        });
                    }
                }
            });

            Vue.component("tab", {
                template: `

                    <div v-show="isActive"><slot></slot></div>

                `,

                props: {
                    name: {
                        required: true
                    },
                    img: {
                        required: true
                    },
                    selected: {
                        default: false
                    }
                },

                data() {
                    return {isActive: false};
                },

                computed: {
                    href() {
                        return "#" + this.name.toLowerCase().replace(/ /g, "-");
                    }
                },

                mounted() {
                    this.isActive = this.selected;
                }
            });

            var app = new Vue({
                el: '#app',
                data: {
                    tabName1: "",
                    tabImage1: "",
                    tabName2: "",
                    tabImage2: "",
                    tabName3: "",
                    tabImage3: "",
                    breadcrumbUrl: "",
                    breadcrumbText: "",
                    url: window.location.origin,
                    params: getParams(window.location.href),
                    level: "",
                    topics: {
                        artes: {
                            name: "Artes",
                            image: "/assets/images/experiencias/artes.png"
                        },
                        lenguaje: {
                            name: "Lenguaje",
                            image: "/assets/images/experiencias/lenguaje.png"
                        },
                        matematicas: {
                            name: "Matemáticas",
                            image: "/assets/images/experiencias/matematicas.png"
                        },
                        valores: {
                            name: "Valores",
                            image: "/assets/images/experiencias/valores.png"
                        },
                        matematicas: {
                            name: "Matemáticas",
                            image: "/assets/images/experiencias/matematicas.png"
                        },
                        conocimiento_del_medio: {
                            name: "Conocimiento del medio",
                            image: "/assets/images/experiencias/conocimiento_del_medio.png"
                        },
                        deportes: {
                            name: "Deportes",
                            image: "/assets/images/experiencias/deportes.png"
                        },
                        la_entidad_donde_vivo: {
                            name: "La entidad donde vivo",
                            image: "/assets/images/experiencias/la_entidad_donde_vivo.jpeg"
                        },
                        geografia: {
                            name: "Geografía",
                            image: "/assets/images/experiencias/geografia.png"
                        },
                        ciencias_naturales: {
                            name: "Ciencias naturales",
                            image: "/assets/images/experiencias/ciencias_naturales.png"
                        },
                        fisica: {
                            name: "Física",
                            image: "/assets/images/experiencias/fisica.png"
                        },
                        civismo: {
                            name: "Civismo",
                            image: "/assets/images/experiencias/civismo.png"
                        },
                        biologia: {
                            name: "Biología",
                            image: "/assets/images/experiencias/biologia.png"
                        },
                        historia: {
                            name: "Historia",
                            image: "/assets/images/experiencias/historia.png"
                        },
                        tecnologia: {
                            name: "Tecnología",
                            image: "/assets/images/experiencias/tecnologia.jpeg"
                        },
                        quimica: {
                            name: "Química",
                            image: "/assets/images/experiencias/quimica.png"
                        },
                        mundo_natural_y_social: {
                            name: "Mundo natural y social",
                            image: "/assets/images/experiencias/mundo_natural_y_social.png"
                        }
                    },
                    experiencias_primaria_1_2: [],
                    experiencias_primaria_3_4: [],
                    experiencias_primaria_5_6: [],
                    experiencias_secundaria_1: [],
                    experiencias_secundaria_2: [],
                    experiencias_secundaria_3: [],
                    experiencias_preescolar: [],
                    mode: 'single',
                    attrs: [
                        {
                            key: 'today',
                            highlight: true,
                            dates: [
                                new Date(2020,3,27) ,
                                new Date(2020,3,28) ,
                                new Date(2020,3,29) ,
                                new Date(2020,3,30) ,
                                new Date(2020,4,1) ,
                                new Date(2020,4,4) ,
                                new Date(2020,4,5) ,
                                new Date(2020,4,6) ,
                                new Date(2020,4,7) ,
                                new Date(2020,4,8) ,
                                new Date(2020,4,11) ,
                                ]
                        },
                    ],
                    attrs2: [
                        {
                            key: 'today',
                            highlight: true,
                            dates: [
                                new Date(2020,3,27) ,
                                new Date(2020,3,28) ,
                                new Date(2020,3,29) ,
                                new Date(2020,3,30) ,
                                new Date(2020,4,1) ,
                                new Date(2020,4,4) ,
                                new Date(2020,4,5) ,
                                new Date(2020,4,6) ,
                                new Date(2020,4,7) ,
                                new Date(2020,4,8) ,
                                new Date(2020,4,11) ,
                                ]
                        },
                    ],
                    attrs3: [
                        {
                            key: 'today',
                            highlight: true,
                            dates: [
                                new Date(2020,3,27) ,
                                new Date(2020,3,28) ,
                                new Date(2020,3,29) ,
                                new Date(2020,3,30) ,
                                new Date(2020,4,1) ,
                                new Date(2020,4,4) ,
                                new Date(2020,4,5) ,
                                new Date(2020,4,6) ,
                                new Date(2020,4,7) ,
                                new Date(2020,4,8) ,
                                new Date(2020,4,11) ,
                                ]
                        },
                    ]
                },
                created() {

                    var param = this.params.nivel;

                    if (typeof param === 'undefined') {
                        $("#app").html("");
                        return
                    }

                    // if(typeof param !== 'undefined') {
                    this.level = param;

                    console.log("Level: [" + param + "]");

                    if (param == "preescolar") {
                        this.breadcrumbText = "Educación Preescolar";
                        this.breadcrumbUrl = "/aprende-en-casa-2/niveles/preescolar/index.html";

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_preescolar.json').then(response => response.json()).then(json => {
                            this.experiencias_preescolar = json;
                        })
                    }

                    if (param == "primaria") { // console.log("show primaria");
                        this.breadcrumbText = "Educación Primaria";
                        this.breadcrumbUrl = "/aprende-en-casa-2/niveles/primaria/index.html";

                        this.tabName1 = "Primaria 1ro y 2do";
                        this.tabImage1 = "/assets/images/experiencias/primbanner1y2.png";
                        this.tabName2 = "Primaria 3ro y 4to";
                        this.tabImage2 = "/assets/images/experiencias/primbanner3y4.png";
                        this.tabName3 = "Primaria 5to y 6to";
                        this.tabImage3 = "/assets/images/experiencias/primbanner5y6.png";

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_primaria_1_2.json').then(response => response.json()).then(json => {
                            this.experiencias_primaria_1_2 = json;
                        })

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_primaria_3_4.json').then(response => response.json()).then(json => {
                            this.experiencias_primaria_3_4 = json;
                        })

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_primaria_5_6.json').then(response => response.json()).then(json => {
                            this.experiencias_primaria_5_6 = json;
                        })
                    }
                    if (param == "secundaria") { // console.log("show secundaria");
                        this.breadcrumbText = "Educación Secundaria";
                        this.breadcrumbUrl = "/aprende-en-casa-2/niveles/secundaria/index.html";

                        this.tabName1 = "Secundaria 1ro";
                        this.tabImage1 = "/assets/images/experiencias/secundaria1.png";
                        this.tabName2 = "Secundaria 2do";
                        this.tabImage2 = "/assets/images/experiencias/secundaria2.png";
                        this.tabName3 = "Secundaria 3ro";
                        this.tabImage3 = "/assets/images/experiencias/secundaria3.png";

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_secundaria_1.json').then(response => response.json()).then(json => {
                            this.experiencias_secundaria_1 = json;
                        })

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_secundaria_2.json').then(response => response.json()).then(json => {
                            this.experiencias_secundaria_2 = json;
                        })

                        fetch(this.url + '/assets/scripts/experiencias/experiencias_secundaria_3.json').then(response => response.json()).then(json => {
                            this.experiencias_secundaria_3 = json;
                        })
                    }
                    /*}else{
                    $("#app").html("");
                }*/
                },
                methods: {
                    showTopics: function (el, dateEl, menuEl, calendar, experiences, tabName) {
                        if (typeof experiences === 'undefined') {
                            return
                        };

                        var items = "";
                        $("#" + el).html("");

                        var experiences = experiences.filter(function (experiences) {

                            if (moment(experiences.date).format('DD-MM-YYYY') == moment(calendar.date).format('DD-MM-YYYY')) {
                                return experiences
                            }
                        })

                        // console.log(experiences);

                        if (experiences.length > 0) {
                            var date = moment(experiences[0].date).format('LLLL');
                            $("#" + dateEl).text(date);
                            var _self = this;
                            var modal_content = "";

                            $.each(experiences[0].topics, function (key, item) {
                                modal_content = "";

                                if (item.modal_url.length > 0) {
                                    axios.get(item.modal_url).then(function (response) {
                                        modal_content = response.data;

                                        if (typeof _self.topics[item.topic] === 'undefined') {
                                            console.log("Image for " + item.topic + " doesn't exist.");
                                            return
                                        };
                                        // console.log("image: " + _self.topics[item.topic].image);

                                        items = '<div class="col-sm-12 col-md-6 col-lg-4">' + '<a href="#M-' + item.id + '-' + slug(tabName) + '" data-toggle="modal"><img src="' + _self.topics[item.topic].image + '" width="380" height="105" class="img-responsive"></a>' + '</div>' + '<div id="M-' + item.id + '-' + slug(tabName) + '" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true" style="display: none;" wfd-invisible="true">' + '<div class="modal-dialog modal-lg" style="margin-top: 76px;">' + '<div class="modal-content">' + '<div class="modal-header">' + '<button tyle="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>' + '<h5 class="modal-title">' + _self.topics[item.topic].name + '</h5>' + '</div> ' + '<div class="modal-body">' + '<h3>' + date + '</h3>' + response.data + '</div>' + '</div>' + '</div>' + '</div>';

                                        $("#" + el).append(items);
                                    }).catch(function (error) {
                                        console.log(error);
                                    });
                                }

                            });

                            $("#" + menuEl).show();
                        } else {
                            $("#" + menuEl).hide();
                        }

                    if(this.level == "preescolar"){
                        this.showTopics("experiences", "date1", "menu", calendar, this.experiencias_preescolar, this.tabName1);
                    }

                    if(this.level == "primaria"){
                        this.showTopics("experiences", "date1", "menu", calendar, this.experiencias_primaria_1_2, this.tabName1);
                    }

                    if(this.level == "secundaria"){
                        this.showTopics("experiences", "date1", "menu", calendar, this.experiencias_secundaria_1, this.tabName1);
                    }

                        if (this.level == "secundaria") {
                            this.showTopics("experiences", "date1", "menu1", calendar, this.experiencias_secundaria_1, this.tabName1);
                        }

                    },
                    selectDay2: function (calendar) {

                        if (this.level == "primaria") {
                            console.log(this.experiencias_primaria_3_4);
                            this.showTopics("experiences2", "date2", "menu2", calendar, this.experiencias_primaria_3_4, this.tabName2);
                        }

                        if (this.level == "secundaria") {
                            this.showTopics("experiences2", "date2", "menu2", calendar, this.experiencias_secundaria_2, this.tabName2);
                        }
                    },
                    selectDay3: function (calendar) {

                        if (this.level == "primaria") {
                            this.showTopics("experiences3", "date3", "menu3", calendar, this.experiencias_primaria_5_6, this.tabName3);
                        }

                        if (this.level == "secundaria") {
                            this.showTopics("experiences3", "date3", "menu3", calendar, this.experiencias_secundaria_3, this.tabName3);
                        }
                    }
                }
            })
        </script>
    </body>
</html>
